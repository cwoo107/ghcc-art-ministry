<li id="<%= dom_id visual_work %>" class=" <%=visual_work.orientation %> flex-col rounded-lg bg-cream-50 text-center shadow w-full ">
  <%= link_to visual_work do %>
    <div class="flex flex-1 flex-col p-4 ">
      <% if visual_work.orientation == 'col-span-3' %>
        <div class="image-box-landscape my-2">
      <% else %>

        <div class="image-box-portrait my-2 ">
      <% end %>
      <%= image_tag(visual_work.artwork, style: 'max-height: 60vh;', loading: "lazy", data: { title: visual_work.title } ) %>
      </div>
      <% if visual_work.orientation == 'col-span-3' %>


      <h3 class="mt-4 text-sm font-medium text-gray-900"><%= visual_work.title %></h3>
        <% else %>
        <h3 class="mt-4 text-sm font-medium text-gray-900"><%= visual_work.title %></h3>

    <% end %>
      <dl class="mt-1 flex flex-grow flex-col justify-between">
        <dt class="sr-only">Artist Name</dt>
        <%= link_to visual_work.artist do %>
          <dd class="text-sm text-gray-500"><%= visual_work.artist.first_name %> <%= visual_work.artist.last_name %></dd>
        <% end %>
        <dt class="sr-only">Medium</dt>
        <dd class="mt-3">
          <% JSON.parse(visual_work.medium).each do |medium| %>
          <%= link_to medium, visual_works_path(medium: medium), class: "inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20" %>
            <% end %>
        </dd>
        <div data-controller='toggle' class="mt-2 ">
          <div data-action='click->toggle#toggle touch->toggle#toggle' class=" text-sm text-gray-500">
            View Full Description
          </div>
          <div data-toggle-target='toggleable' class="m-2 hidden">
            <dt class="sr-only">Description</dt>
            <dd class="text-sm text-gray-500 text-left "><%= visual_work.description %></dd>
          </div>
        </div>
        <% if action_name == 'show' %>
        <div data-controller='toggle' class="mt-2 ">
          <div data-action='click->toggle#toggle touch->toggle#toggle' class=" text-sm text-gray-500">
            QR Code
          </div>
          <div data-toggle-target='toggleable' class="m-2 hidden">
            <dt class="sr-only">QR Code</dt>
            <dd class="text-sm text-gray-500 text-center "><%= @qr_code.html_safe %></dd>
          </div>
        </div>
      <% end %>
      </dl>
      </div>
      <div class="">
        <% if action_name != 'show' %>
          <div class="-mt-px flex divide-x divide-gray-200 border-y border-gray-200">
            <div class="flex w-0 flex-1">
              <%= link_to visual_work, class: "hover:bg-gray-200 text-gray-500  -mr-px inline-flex w-0 flex-1 items-center justify-center gap-x-3  border border-transparent py-4 text-sm font-semibold text-gray-900" do  %>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5 text-gray-400">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
                </svg>


                View Image
                <% end %>
            </div>
          </div>
        <% end %>
        <div class="-mt-px flex divide-x divide-gray-200 border-y border-gray-200">
          <div class="flex w-0 flex-1">
            <a href="#" class="hover:bg-gray-200 text-gray-500  -mr-px inline-flex w-0 flex-1 items-center justify-center gap-x-3  border border-transparent py-4 text-sm font-semibold text-gray-900">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5 text-gray-400">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
              </svg>
              Listen to Audio
            </a>
          </div>
        </div>

        <div class="-mt-px flex divide-x divide-gray-200">
          <% if action_name == 'show' %>
            <div class="flex w-0 flex-1">
              <a href="/visual_works" class="hover:bg-gray-200 text-gray-500  -mr-px inline-flex w-0 flex-1 items-center justify-center gap-x-3 rounded-bl-lg border border-transparent py-4 text-sm font-semibold text-gray-900">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5 text-gray-400">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3" />
                </svg>

                Back to Gallery
              </a>
            </div>
          <% else %>
            <% if visual_work.orientation == 'col-span-1' %>
              <div class="flex w-0 flex-1">
                <a href="/visual_works" class="hover:bg-gray-200 text-gray-500  -mr-px inline-flex w-0 flex-1 items-center justify-center gap-x-3 rounded-bl-lg  border border-transparent py-4 text-sm font-semibold text-gray-900">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5 text-gray-400">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
                  </svg>


                  View Image
                </a>
              </div>
            <% end %>

          <% end %>
          <div class="flex w-0 flex-1">
            <a href="mailto:<%= visual_work.artist.email %>?subject=GHCC%20Art%20Ministry%20Enquiry%20%7C%20<%= visual_work.title %>&body=Hello%2C%0A%0AI%20am%20contacting%20to%20you%20for%20more%20information%20about%20your%20piece%20in%20the%20Exodus%20exhibition%20titled%20<%= visual_work.title %>."
               class="hover:bg-gray-200 text-gray-500  -mr-px inline-flex w-0 flex-1 items-center justify-center gap-x-3 rounded-bl-lg rounded-br-lg border border-transparent py-4 text-sm font-semibold text-gray-900">
              <svg class="h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                <path d="M3 4a2 2 0 00-2 2v1.161l8.441 4.221a1.25 1.25 0 001.118 0L19 7.162V6a2 2 0 00-2-2H3z" />
                <path d="M19 8.839l-7.77 3.885a2.75 2.75 0 01-2.46 0L1 8.839V14a2 2 0 002 2h14a2 2 0 002-2V8.839z" />
              </svg>
              Email The Artist
            </a>
          </div>
        </div>
      </div>
  <% end %>

</li>

<% if false %>
  <div class="col-span-2 col-span-3 -mb-8"></div>
<%end %>
