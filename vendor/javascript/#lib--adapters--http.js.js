import{_ as e}from"../../_/54052b37.js";import r from"../core/settle.js";import o from"../helpers/cookies.js";import t from"../helpers/buildURL.js";import a from"../core/buildFullPath.js";import n from"../helpers/isURLSameOrigin.js";import s from"../core/createError.js";import{_ as i,a as d}from"../../_/94514ad0.js";import"../helpers/isAbsoluteURL.js";import"../helpers/combineURLs.js";import"../core/enhanceError.js";var u={};var l=e;var f=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];
/**
 * Parse headers into an object
 *
 * ```
 * Date: Wed, 27 Aug 2014 08:58:49 GMT
 * Content-Type: application/json
 * Connection: keep-alive
 * Transfer-Encoding: chunked
 * ```
 *
 * @param {String} headers Headers needing to be parsed
 * @returns {Object} Headers parsed into an object
 */u=function parseHeaders(e){var r={};var o;var t;var a;if(!e)return r;l.forEach(e.split("\n"),(function parser(e){a=e.indexOf(":");o=l.trim(e.substr(0,a)).toLowerCase();t=l.trim(e.substr(a+1));if(o){if(r[o]&&f.indexOf(o)>=0)return;r[o]="set-cookie"===o?(r[o]?r[o]:[]).concat([t]):r[o]?r[o]+", "+t:t}}));return r};var c=u;var p={};var m=e;var v=r;var h=o;var g=t;var b=a;var E=c;var T=n;var R=s;var x=i;var w=d;p=function xhrAdapter(e){return new Promise((function dispatchXhrRequest(r,o){var t=e.data;var a=e.headers;var n=e.responseType;var s;function done(){e.cancelToken&&e.cancelToken.unsubscribe(s);e.signal&&e.signal.removeEventListener("abort",s)}m.isFormData(t)&&delete a["Content-Type"];var i=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"";var u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.Authorization="Basic "+btoa(d+":"+u)}var l=b(e.baseURL,e.url);i.open(e.method.toUpperCase(),g(l,e.params,e.paramsSerializer),true);i.timeout=e.timeout;function onloadend(){if(i){var t="getAllResponseHeaders"in i?E(i.getAllResponseHeaders()):null;var a=n&&"text"!==n&&"json"!==n?i.response:i.responseText;var s={data:a,status:i.status,statusText:i.statusText,headers:t,config:e,request:i};v((function _resolve(e){r(e);done()}),(function _reject(e){o(e);done()}),s);i=null}}"onloadend"in i?i.onloadend=onloadend:i.onreadystatechange=function handleLoad(){i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))&&setTimeout(onloadend)};i.onabort=function handleAbort(){if(i){o(R("Request aborted",e,"ECONNABORTED",i));i=null}};i.onerror=function handleError(){o(R("Network Error",e,null,i));i=null};i.ontimeout=function handleTimeout(){var r=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";var t=e.transitional||x;e.timeoutErrorMessage&&(r=e.timeoutErrorMessage);o(R(r,e,t.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",i));i=null};if(m.isStandardBrowserEnv()){var f=(e.withCredentials||T(l))&&e.xsrfCookieName?h.read(e.xsrfCookieName):void 0;f&&(a[e.xsrfHeaderName]=f)}"setRequestHeader"in i&&m.forEach(a,(function setRequestHeader(e,r){"undefined"===typeof t&&"content-type"===r.toLowerCase()?delete a[r]:i.setRequestHeader(r,e)}));m.isUndefined(e.withCredentials)||(i.withCredentials=!!e.withCredentials);n&&"json"!==n&&(i.responseType=e.responseType);"function"===typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress);"function"===typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress);if(e.cancelToken||e.signal){s=function(e){if(i){o(!e||e&&e.type?new w("canceled"):e);i.abort();i=null}};e.cancelToken&&e.cancelToken.subscribe(s);e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s))}t||(t=null);i.send(t)}))};var y=p;export{y as default};

